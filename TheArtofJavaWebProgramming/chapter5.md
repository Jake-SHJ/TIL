# 서블릿 이해하기

> 동적 웹 페이지를 처음으로 구현한 방법은 JSP가 아니라 서블릿(servlet)

## 서블릿이란?

- 서버 쪽에서 실행되면서 기능 수행
- 기존의 정적 웹 프로그램의 문제점 보완 / 동적인 기능 제공
- 스레드 방식으로 실행
- 자바로 만들어졌기 때문에 객체 지향의 특징을 가짐
- 컨테이너에서 실행 / 컨테이너 종류와 상관없이 실행 (플랫폼 독립적)
- 보안 기능 적용 용이
- 웹 브라우저에서 요청 시 기능 수행

## 서블릿 API 계층 구조와 기능

- Servlet, ServletConfig가 인터페이스로 제공, Servlet 관련 추상 메서드를 선언
- GenericServlet 추상 클래스가 두 인터페이스의 추상 메서드를 구현
- GenericServlet을 HttpServlet이 상속받아 http 프로토콜을 사용하는 웹 브라우저에서 서블릿 기능을 수행

## 서블릿의 생명주기 메서드

- 서블릿 실행 단계마다 호출되어 기능을 수행하는 콜백 메서드
- 초기화 단계 | init() | 서블릿 요청 시 맨 처음 한번만 호출, 서블릿 생성 시 초기화 작업
- 작업 수행 단계 | do Get(), doPost() | 서블릿 요청 시 매번 호출, 클라이언트가 요청하는 작업 수행
- 종료 단계 | destroy() | 서블릿이 기능을 수행하고 메모리에서 소멸될 때 호출, 마무리 작업을 수행
- do로 시작하는 메서드는 서블릿의 핵심 기능을 처리하므로 반드시 구현

## FirstServlet을 이용한 실습

- 사용자 정의 서블릿 클래스 만들기 > 서블릿 생명주기 메서드 구현 > 서블릿 매핑 작업 > 웹 브라우저에서 서블릿 매핑 이름으로 요청하기

## 서블릿 동작 과정

- 클라이언트 요청
- 메모리에 서블릿이 존재하는지 확인
- 없으면 서블릿을 메모리 로드 > init() 호출 > doGet() 또는 doPost() 호출
- 있으면 바로 doGet() 또는 doPost() 호출
- 결과 응답

## 애너테이션을 이용한 서블릿 매핑

- web.xml에 매핑하는 건 복잡하고 가독성이 좋지 않음
- @WebServlet를 이용해서 서블릿을 매핑
